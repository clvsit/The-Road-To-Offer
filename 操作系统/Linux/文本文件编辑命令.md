![思维导图](https://markdown-picture-clvsit.oss-cn-hangzhou.aliyuncs.com/img/system/%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.jpg)

# 查看命令
Linux系统中有多个用于查看文本内容的命令，每个命令都有自己的特点。

## cat 命令
cat 命令用于查看内容较少的纯文本文件。

【语法】：
```
cat [命令参数] 命令对象
```
- 命令对象：指定文件。

【命令参数】：
- `-n`：显示行数，空行也编号。
- `-s`：显示行数，多个空行算一个编号。
- `-b`：显示行数，空行不编号。
- `-E`：每行结束处显示 $ 符号。
- `-T`：将 TAB 字符显示为 ^| 符号。

【参考示例】：
- 查看文件的内容。

```
cat filename.txt
```
- 查看文件的内容，并显示行数编号。

```
cat -n filename.txt
```
- 查看文件的内容，并添加行数编号后输出到另外一个文件中。

```
cat -n filename.txt > filename2.txt
```
- 清空文件的内容。

```
cat /dev/null > filename.txt
```
- 持续写入文件内容，碰到 EOF 字符后结束并保存。

```
cat > filename.txt << EOF
> Hello, World
> Linux!
> EOF
```
- 将软盘设备制作成镜像文件。

```
cat /dev/fd0 > fdisk.iso
```


## more 命令
more 命令用于查看内容较多的纯文本文件，并且支持在显示时定位关键字。

【语法】：
```
more [命令参数] 命令对象
```
- 命令对象：指定文件。

【命令参数】：
- `-num`：指定每屏显示的行数。
- `-l`：more 在通常情况下把 ^L 当作特殊字符，遇到该字符就会暂停，`-l` 选项可以阻止这种特性。
- `-f`：计算实际的行数，而非自动换行的行数。
- `-p`：先清除屏幕再显示文本文件的剩余内容。
- `-c`：与 `-p` 相似，不滚屏，先显示内容再清除旧内容。
- `-s`：多个空行压缩成一行显示。
- `-u`：禁止下划线。
- `+/pattern`：在每个显示前搜寻该关键字（pattern），然后从该字串之后开始显示。
- `+num`：从第 num 行开始显示。

如果需要阅读长篇小说或者非常长的配置文件，那么“小猫咪”可就真的不适合了。因为一旦使用 cat 命令阅读长篇的文本内容，信息就会在屏幕上快速翻滚，导致自己还没有来得及看到，内容就已经翻篇了。因此对于长篇的文本内容，推荐使用 more 命令来查看。more 命令会在最下面使用百分比的形式来提示已经阅读了多少内容。

【命令内部操作】：
- space：显示文本的下一屏内容。
- enter：向下 n 行，需要定义，默认为 1 行。
- \pattern：输入一个模式，可以在文本中寻找下一个相匹配的模式。
- H：显示帮助屏。
- B：显示上一屏内容。
- q：退出 more 命令。
- Ctrl + F、space：向下滚动一屏。
- Ctrk + B：返回上一屏。
- =：输出当前的行号。
- :f：输出文件名和当前的会更好。
- v：调用 vi 编辑器。
- !：调用 Shell，并执行命令。

【参考示例】：
- 显示文件内容，先清屏后显示。

```
more -dc file
```
- 显示文件内容，每 10 行显示一次。

```
more -10 file
```
- 显示文件内容，每 5 行显示一次，并且在显示之后再清屏。

```
more -p -5 file
```
- 显示文件内容，压缩空行。

```
more -s file
```
- 从第 20 行开始显示文件内容。

```
more +20 file
```

## head 命令
head 命令用于查看纯文本文档的前 N 行，默认打印前 10 行。

【语法】：
```
head [命令参数] 命令对象
```
- 命令对象：指定文件。

【命令参数】：
- `-n`：表示显示的行数。
- `-c`：指定显示的字符数。
- `-v`：显示文件名的头信息。
- `-q`：不显示文件名的头信息。

【参考示例】：
- 显示前 3 行文件内容。

```
head -n 3 filename.txt
```
- 显示文件名信息，并显示文件前 2 行。

```
head -v -n 2 filename.txt
```
- 显示文件前 5 个字符。

```
head -c 5 filename.txt
```

## tail 命令
tail 命令用于查看纯文本文档的后 N 行，默认显示 10 行。如果给定的文件不止一个，则在显示的每个文件前面加上一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。

tail 命令最强悍的功能是可以**持续刷新一个文件的内容**。当想要实时查看最新日志文件时，这特别有用，此时的命令格式为 `tail -f 文件名`。

【语法】：
```
tail [命令参数] 命令对象
```
- 命令对象：指定文件。

【命令参数】：
- `--retry`：在命令启动时，文件不可访问或者文件稍后变得不可访问，都始终尝试打开文件，需要与 `--follow=name` 连用。
- `-n`：输出文件尾部 N 行内容。
- `-c` 或 `--bytes`：输出文件尾部的 N 个字符。
- `-f` 或 `--follow`：显示文件最新追加的内容。
- `--pid`：与 `-f` 连用，当指定的进程号的进程终止后，自动退出 tail 命令。

【参考示例】：
- 显示文件的最后 10 行。

```
tail filename.txt
```
- 显示文件第 20 行到文件末尾。

```
tail +20 filename.txt
```
- 显示文件的最后 10 个字符。

```
tail -c 10 filename.txt
```
- 一直变化的文件总是显示后 10 行。

```
tail -f 10 filename.txt
```

## stat
stat 命令用于查看文件的具体存储信息和时间等信息。

【语法】：
```
stat [命令参数] 命令对象
```
- 命令对象：指定文本。

【命令参数】：
- `-L`：支持符号链接。
- `-f`：显示文件系统的信息。
- `-t`：以简洁的方式输出。

【参考示例】：
- 默认查看文件的三种时间状态：Access、Modify 和 Change。

```
stat filename.txt
```
- 查看文件系统信息。

```
stat -f filename.txt
```
- 以简洁的方式输出信息。

```
stat -t filename.txt
```

## tr 命令
tr 命令用于替换文本文件中的字符。

tr 全称为 transform，即转换的意思。该命令的作用是将字符进行替换、压缩、删除。需要注意的是，tr 只能从标准输入中读取数据，因此，要么将输入文件重定向到标准输入，要么从管道读入数据。

【语法】：
```
tail [命令参数] [命令对象1] 命令对象2
```
- 命令对象1：字符串1。
- 命令对象2：字符串2。

【命令参数】：
- `-c`：选定字符串1中字符集的补集。
- `-d`：删除字符串1中出现的所有字符。
- `-s`：删除所有重复出现的字符序列，只保留一个。

【管道读入方式】：先使用 cat 命令读取待处理的文件，然后通过管道符将这些文本内容传递给 tr 命令进行替换操作。

【参考示例】：
- 实现大小字母的转换。

```
cat filename.txt
tr "[a-z]" "[A-Z]" < filename.txt
```
- 删除 filename.txt 中的小写字母。

```
tr -d "[a-z]" < filename.txt
```
- 压缩重复的空白行。

```
cat filename.txt
tr -s "[\n]" < filename.txt
```

## wc 命令
wc 命令用于统计指定文本的行数、字数、字节数。若不指定文件名称，或是所给予的文件名为“-”，则 wc 命令会从标准输入设备中读取数据。wc 命令同时也给出指定文件的总统计数。

【语法】：
```
wc [命令参数] 命令对象
```
- 命令对象：指定文本。

【命令参数】：
- `-w` 或 `--words`：统计字数。
- `-c` 或 `--bytes`、`--chars`：统计字节数。
- `-l`：统计行数。
- `-m`：统计字符数。
- `-L`：打印最长行的长度。

 【参考示例】：
 - 统计字数。
 
```
wc -w filename.txt
```
- 统计字节数。

```
wc -c filename.txt
```
- 统计字符数。

```
wc -m filename.txt
```
- 统计行数。

```
wc -l filename.txt
```
- 打印最长行的长度。

```
wc -L filename.txt
```

## cut 命令
cut 命令用于按“列”提取文本字符。

【语法】：
```
cut [命令参数] 命令对象
```
- 命令对象：指定文本。

【命令参数】：
- `-b`：以字节为单位进行分割，仅显示行中指定直接范围的内容。
- `-c`：以字符为单位进行分割，仅显示行中指定范围的字符。
- `-d`：自定义分隔符，默认为制表符 Tab。
- `-f`：显示自定字段得荣，与 `-d` 一起使用。
- `-n`：取消分割多字节字符。
- `--complement`：补足被选择的字节、字符或字段。
- `--out-delimiter`：指定输出内容的字段分隔符。

【参考示例】：假设有一个学生报表信息。
```
cat student.txt 
No Name Mark Percent 
01 tom   69   91 
02 jack  71   87 
03 alex  68   98  
```
- 使用 `-f` 提取指定字段。

```
cut -f 2 student.txt
Name
tom
jack
alex
```
- 提取指定字段之外的列。

```
cut -f 2 --completement student.txt
No Mark Percent 
01  69   91 
02  71   87 
03  68   98 
```
- 指定字段分隔符。

```
cat student2.txt 
No;Name;Mark;Percent 
01;tom;69;91 
02;jack;71;87 
03;alex;68;98 

cut -f 2 -d ";" student2.txt
Name 
tom 
jack 
alex 
```
- 打印第 1 个到第 3 个字符。

```
cut -c 1-3 student.txt
01 
02 
03 
```

## diff 命令
diff 命令用于比较多个文本文件的差异，以逐行的方式进行比较。如果指定比较的目录，则比较目录中相同文件名的文件，但不会比较其中子目录。

【语法】：
```
diff [命令参数] 命令对象1 命令对象2
```
- 命令对象1：文本文件或目录。
- 命令对象2：文本文件或目录。

【命令参数】：
- `-a`：逐行比较文本，默认值。
- `-b`：不检查空格字符的不同。
- `-x`：不比较选项中所指定的文件或目录。
- `-X`：将文件或目录类型存成文本文件，然后在 `=<文件>` 中指定此文本文件。
- `-W`：在使用 `-y` 参数时，指定栏宽。
- `-y`：以并列的方式显示文件的异同之处。
- `--left-column`：在使用 `-y` 参数时，若两个文件某一行内容相同，则仅在左侧的栏位显示该行内容。
- `--suppress-common-lines`：在使用 `-y` 参数时，仅显示不同之处。
- `--brief`：判断两个文件是否不同。
- `-c`：详细列出文件的差异之处。

【参考实例】：
- 比较两个文件。

```
diff filename1.txt filename2.txt
```
- 并排格式输出。

```
diff filename1.txt filename2.txt -y -W 50
```
- 使用 `--brief` 命令显示比较后的结果。

```
diff --brief filename1.txt filename2.txt
```
